{% extends "base.html" %}
{% block content %}
  <div class="bg-white border rounded p-4">
    <h2 class="h5">데이터</h2>
    <p class="text-muted">CSV/XLSX 업로드 후 프로젝트에 연결됩니다.</p>

    <div class="mb-3">
      <label class="form-label">데이터 파일</label>
      <input id="dataFile" type="file" class="form-control" />
      <button class="btn btn-primary mt-2" onclick="uploadData()">업로드</button>
    </div>

    <div class="d-flex gap-2 mb-3">
      <button class="btn btn-outline-secondary" onclick="fetchDataSummary()">요약</button>
      <button class="btn btn-outline-secondary" onclick="fetchDataPreview()">미리보기</button>
    </div>

    <div id="dataOut" class="bg-light p-3 rounded small" style="max-height: 520px; overflow:auto;"></div>
    <details class="mt-2">
      <summary class="small text-muted">원본 JSON 보기</summary>
      <pre id="dataOutRaw" class="bg-light p-2 rounded small mt-2" style="max-height: 420px; overflow:auto;"></pre>
    </details>
  </div>
{% endblock %}
