{% extends "base.html" %}
{% block content %}
  <div class="bg-white border rounded p-4">
    <h2 class="h5">차트</h2>
    <p class="text-muted">ChartController 지원 차트: 히스토그램, 박스플롯, 산점도, 선 그래프, 막대 그래프, 상관행렬, 주효과도, 상호작용도</p>

    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">차트 유형</label>
        <select id="chartType" class="form-select">
          <option value="histogram">히스토그램</option>
          <option value="boxplot">박스플롯</option>
          <option value="scatter">산점도</option>
          <option value="line">선 그래프</option>
          <option value="bar">막대 그래프</option>
          <option value="correlation_matrix">상관행렬</option>
          <option value="main_effects">주효과도</option>
          <option value="interaction">상호작용도</option>
        </select>
      </div>
      <div class="col-md-4">
        <label class="form-label">X 변수</label>
        <input id="chartX" class="form-control" />
      </div>
      <div class="col-md-4">
        <label class="form-label">Y 변수</label>
        <input id="chartY" class="form-control" />
      </div>
      <div class="col-md-4">
        <label class="form-label">Group 변수(선택)</label>
        <input id="chartGroup" class="form-control" />
      </div>
      <div class="col-md-8 d-flex align-items-end">
        <button class="btn btn-primary" onclick="createChart()">차트 생성</button>
      </div>
    </div>

    <div class="mt-3">
      <img id="chartImg" class="img-fluid border rounded d-none" alt="chart" loading="lazy" />
    </div>

    <div id="chartOut" class="bg-light p-3 rounded small mt-3" style="max-height: 360px; overflow:auto;"></div>
    <details class="mt-2">
      <summary class="small text-muted">원본 JSON 보기</summary>
      <pre id="chartOutRaw" class="bg-light p-2 rounded small mt-2" style="max-height: 320px; overflow:auto;"></pre>
    </details>
  </div>
{% endblock %}
